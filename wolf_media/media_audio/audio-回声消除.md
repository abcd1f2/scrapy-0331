## media-audio 回声消除
- **概述：**
>       什么是回音？
>           如果A和B在通话，A的声音传给B，B用喇叭放出来，在这时B的MIC则会采集到喇叭的声音，然后传回给A，如果延时比较大，A就会听到刚才自己的话，这就是回音
>
>       什么是回音消除？
>           在B端对B采集到的声音进行处理，把采集到的声音中包含A的声音去掉之后在传给A
>
>

- **回声消除原理：**
>       传给回音消除器的两个声音信号，必须同步得非常好，就是说在B端接收到A说的话以后，要把这些声音数据传给回声消除器做参考，然后再传给声卡，声卡播放出来，
>           这里有一段延时，这时B再采集，然后传给回音消除器，与那个参考数据比较，从采集到的数据中把频率和参考数据相同的部分消除掉
>
>       缺点：
>           如果传给消除器的两个信号同步得不好，即两个信号找不到频率相同的部分，就没有办法进行消除了
>
>       声学回声分为两种：
>           1、直接回声：
>               由扬声器产生是声音未经任何反射直接进入麦克风
>           2、间接回声：
>               由扬声器发出的声音经过多次反射后，进入mic
>               这种拥有多路径、时变性等特点，比较难处理
>
>       回声消除方法：
>           1、硬件实现
>               硬件专业芯片实现
>           2、软件实现
>
>

- **回声消除原理算法：**
>       回声消除原理：
>           回声消除的基本原理是使用一个自适应滤波器对未知的回声信道: ω 进行参数辨识，根据扬声器信号与产生的多路回声的相关性为基础，建立远端信号模型，模拟回声路径，通过自适应算法调整，使其冲击响应和真实回声路径相逼近。然后将麦克风接收到的信号减去估计值，即可实现回声消除功能
>
>       echo = x * ω
>       d = s + echo
>       y^ = x * ω^
>       e = d − y^
>      式中ω是回声通道的时域冲击响应函数，x是远端语音；echo是所得回声；s是近端说话人语音，d为麦克风采集到的信号， y^ 是对回声信号的估计值，e为误差
>
>       为了消除较长时间的回声，需要FIR滤波器的阶数较高，时域计算法，有两个问题：
>           1、实时性较差
>           2、计算量大。
>           为了在实时性/计算量以及可以消除的回声时长之间找到使这三个最优的算法，采用了频谱分块自适应滤波算法。
>
>       这里用到了很多信号处理算法，为了让算法理解起来容易些，简单罗列涉及到的算法：
>           1、FFT/IFFT
>           2、循环卷积和线性卷积的关系;重叠保留法
>           3、功率谱密度
>           4、互相关
>           5、NLMS自适应算法
>
>
>
>
>
>
>
>
>

- **待续：**
>       参考：https://www.infoq.cn/article/how-does-echo-cancellation-technology-work-in-av    音视频社交中回声消除技术是如何实现的
>           https://blog.csdn.net/shichaog/article/details/71152743     语音自适应回声消除（AEC）算法
>           https://blog.csdn.net/qq_14962179/article/details/88051662  WebRTC AEC（算法框架）
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
