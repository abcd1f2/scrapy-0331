## ML_应用详解 - 异常点检测
- **概述**：
>       异常点检测：
>           异常点检测，也叫离群点检测，是比较常用的一种非监督学习算法
>
>
>

- **异常点检测常用的场景：**
>       什么时候我们需要异常点检测算法呢？常见的有三种情况：
>           1、做特征工程的时候需要对异常的数据做过滤，防止对归一化等处理的结果产生影响
>           2、对没有标记输出的特征数据做筛选，找出异常的数据
>           3、对有标记输出的特征数据做二分类时，由于某些类别的训练样本非常少，类别严重不平衡，此时也可以考虑用非监督的异常点检测算法来做
>
>

- **异常点检测常见类别：**
>       异常点检测的目的是找出数据集中和大多数数据不同的数据，常用的异常点检测算法一般分为三类：
>           1、第一类是基于统计学的方法来处理异常数据，这种方法一般会构建一个概率分布模型，并计算对象符合该模型的概率，把具有低概率的对象视为异常点。比如特征工程中的RobustScaler方法，在做数据特征值缩放的时候，它会利用数据特征的分位数分布，将数据根据分位数划分为多段，只取中间段来做缩放，比如只取25%分位数到75%分位数的数据做缩放。这样减小了异常数据的影响
>           2、第二类是基于聚类的方法来做异常点检测。这个很好理解，由于大部分聚类算法是基于数据特征的分布来做的，通常如果我们聚类后发现某些聚类簇的数据样本量比其他簇少很多，而且这个簇里数据的特征均值分布之类的值和其他簇也差异很大，这些簇里的样本点大部分时候都是异常点。比如我之前讲到的BIRCH聚类算法原理和DBSCAN密度聚类算法都可以在聚类的同时做异常点的检测。
>           3、第三类是基于专门的异常点检测算法来做。这些算法不像聚类算法，检测异常点只是一个赠品，它们的目的就是专门检测异常点的，这类算法的代表是One Class SVM和Isolation Forest
>
>       One Class SVM：
>           One Class SVM这个问题的解决思路有很多。这里只讲解一种特别的思路SVDD, 对于SVDD来说，我们期望所有不是异常的样本都是正类别，同时它采用一个超球体而不是一个超平面来做划分，该算法在特征空间中获得数据周围的球形边界，期望最小化这个超球体的体积，从而最小化异常点数据的影响
>           优点：
>               One Class SVM对于中小型的数据分析，尤其是训练样本不是特别海量的时候用起来经常会比iForest顺手，因此比较适合做原型分析
>
>       Isolation Forest：
>           周志华老师的学生提出来的，主要是利用集成学习的思路来做异常点检测，目前几乎成为异常点检测算法的首选项，它是随机森林大家族的一员
>           步骤：
>               1、主要包括第一步训练构建随机森林对应的多颗决策树，这些决策树一般叫iTree
>                   和常规的RF不同，
>                   (1)、iForest不需要采样这么多，一般来说，采样个数要远远小于训练集个数。原因是我们的目的是异常点检测，只需要部分的样本我们一般就可以将异常点区别出来了
>                   (2)、另外就是在做决策树分裂决策时，由于我们没有标记输出，所以没法计算基尼系数或者和方差之类的划分标准。这里我们使用的是随机选择划分特征，然后在基于这个特征再随机选择划分阈值，进行决策树的分裂。直到树的深度达到限定阈值或者样本数只剩一个
>               2、第二步计算需要检测的数据点x最终落在任意第t颗iTree的层数ht(x)。然后我们可以得出x在每棵树的高度平均值h(x)
>               3、第三步根据h(x)判断x是否是异常点，计算x的异常概率分值
>                   sklearn中，可以用ensemble包里面的IsolationForest来做异常点检测
>
>           优点：
>               它的优点非常突出，它具有线性时间复杂度
>           缺点：
>               1、不适用于特别高维的数据。由于每次切数据空间都是随机选取一个维度和该维度的随机一个特征，建完树后仍然有大量的维度没有被使用，导致算法可靠性降低。
>                   此时推荐降维后使用，或者考虑使用One Class SVM
>               2、iForest仅对即全局稀疏点敏感，不擅长处理局部的相对稀疏点 ，这样在某些局部的异常点较多的时候检测可能不是很准
>
>
>
>

- **待续：**
>       参考：
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
