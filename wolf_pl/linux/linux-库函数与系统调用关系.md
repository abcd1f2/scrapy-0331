## linux - 库函数与系统调用关系和区别
- **概述：**
>
>
>
>
>

- **库函数：**
>       库函数可以理解为对系统调用的一层封装。
>       库函数有可能包含有一个系统调用，有可能有好几个系统调用，当然也有可能没有系统调用。比如有些操作不涉及内核的功能。
>
>

- **C函数库**
>       所有C函数库是相同的，而各个操作系统的系统调用是不同的。
>       C函数库调用是调用函数中的一个程序，而系统调用是调用系统内核的服务。
>       库函数：
>           函数库是调用用户程序；
>           是在用户地址空间执行；
>           运行时间属于用户时间；
>           属于过程调用，开销小；？？
>               据《C 专家编程》中记载，库函数大概时间为半微妙，系统调用大约是库函数的70倍(35微妙)，因为系统调用有内核上下文环境切换开销，
>               从性能上考虑的话，应该尽量减少系统调用，但是许多C函数库中的程序都是通过系统调用来实现功能。
>               解释一下，为什么库函数性能比系统调用高：
>                   1、有的库函数没有调用系统调用
>                   2、有的库函数使用缓冲区，减小了系统调用次数。（如fread/fwrite/fputc/fgetc）
>               系统调用过程：
>                   当一个进程正在运行，遇到读写文件操作，会发生一个中断（通过int中断指令陷入内核态），中断后系统会把当前用户进程的一些寄存器信息保存在内核堆栈中，接着去处理中断服务程序，即去执行系统调用
>           C函数库libc大约300个程序；
>           比如：system、fprintf、malloc
>       系统调用：
>           系统调用是操作系统的一部分；
>           是在内核空间执行；
>           运行时间属于系统时间；
>           系统调用需要切换内核上下文环境然后切换回来，开销较大？？
>           Unix大约90个调用；
>           比如：chdir、fork、write、brk
>

- **gcc、libc、libstdc++的关系：**
>       libc和glibc区别：
>           1、libc是Linux下原来的标准C库，也就是当初写hello world时包含的头文件#include <stdio.h> 定义的地方
>               后来逐渐被glibc取代，也就是传说中的GNU C Library
>               主流的一些linux操作系统如 Debian, Ubuntu，Redhat等用的都是glibc（或者其变种eglibc等，ubuntu系统用的就是eglibc）
>               libc 是 Linux 下的 ANSI C 函数库；glibc 是 Linux 下的 GUN C 函数库
>           2、glibc是Linux系统中最底层的API，几乎其它任何的运行库都要依赖glibc
>               glibc最主要的功能就是对系统调用的封装
>               除了封装系统调用，glibc自身也提供了一些上层应用函数必要的功能,如string,malloc,stdlib,linuxthreads,locale,signal等等
>           3、eglibc
>               变种glibc，e是Embedded的意思
>               eglibc的主要特性是为了更好的支持嵌入式架构，可以支持不同的shell(包括嵌入式)，但它是二进制兼容glibc的，就是说如果代码之前依赖eglibc库，那么换成glibc后也不需要重新编译。
>               ubuntu系统用的就是eglibc
>           4、glib
>               glib跟glibc 并没有关系，glib也是个c程序库，不过比较轻量级，glib将C语言中的数据类型统一封装成自己的数据类型，提供了C语言常用的数据结构的定义以及处理函数。
>               (注：glib是可移植的，说明你可以在linux下，也可以在windows下使用它）
>           5、libc++和libstdc++
>               两个都是C++标准库
>               libc++是针对clang编译器特别重写的C++标准库
>               libstdc++自然就是gcc的事儿了
>               libstdc++与gcc的关系就像clang与libc++
>           6、libstdc++和glibc的关系
>               libstdc++与gcc是捆绑在一起的，也就是说安装gcc的时候会把libstdc++装上
>               相比glibc，libstdc++虽然提供了c++程序的标准库，但它并不与内核打交道。对于系统级别的事件，libstdc++首先是会与glibc交互，才能和内核通信
>               相比glibc来说，libstdc++就显得没那么基础了
>           7、g++是做什么的?
>               不要以为gcc只能编译C代码，g++只能编译c++代码
>               注意：
>                   后缀为.c的，gcc把它当作是C程序，g++当作是c++程序
>                   后缀为.cpp的，两者都会认为是c++程序
>               编译：
>                   在编译阶段，g++会调用gcc,对于c++代码，两者是等价的
>               链接：
>                   gcc命令不能自动和C++程序使用的库链接，g++ 能自动链接库
>                   需要这样，gcc -lstdc++
>                   如果你的Makefile文件并没有手动加上libstdc++库，一般就会提示错误，要求你安装g++编译器了
>
>
>
>

- **待续：**
>       参考：https://www.cnblogs.com/liwei0526vip/p/8998751.html      Linux 库函数与系统调用的关系与区别
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
